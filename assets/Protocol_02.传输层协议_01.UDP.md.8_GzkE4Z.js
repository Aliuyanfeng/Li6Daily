import{_ as l,c as a,o as r,aN as i}from"./chunks/framework.DXgs1r1w.js";const d="/Li6Daily/assets/image.DPo5XbzN.png",c=JSON.parse('{"title":"UDP","description":"","frontmatter":{"date":"2025-12-19T09:23:47.000Z","title":"UDP","permalink":"/pages/0c6dab","categories":["Protocol","传输层协议"]},"headers":[],"relativePath":"Protocol/02.传输层协议/01.UDP.md","filePath":"Protocol/02.传输层协议/01.UDP.md","lastUpdated":1767923936000}'),e={name:"Protocol/02.传输层协议/01.UDP.md"};function o(p,t,n,h,s,P){return r(),a("div",null,[...t[0]||(t[0]=[i('<h1 id="udp-协议简介" tabindex="-1">UDP 协议简介 <a class="header-anchor" href="#udp-协议简介" aria-label="Permalink to &quot;UDP 协议简介&quot;">​</a></h1><p>小刘，我们从工程视角来聊一聊 UDP（User Datagram Protocol），它在网络世界里是一个<strong>简单、直接、速度优先</strong>的角色。</p><p>UDP 位于 <strong>OSI 第四层（传输层）</strong>，与 TCP 同级，但设计哲学几乎相反：<br> TCP 追求“可靠、完整、有序”，UDP 追求“快、轻、少约束”。</p><p><img src="'+d+'" alt="alt text" loading="lazy"></p><hr><h2 id="一、udp-是什么" tabindex="-1">一、UDP 是什么 <a class="header-anchor" href="#一、udp-是什么" aria-label="Permalink to &quot;一、UDP 是什么&quot;">​</a></h2><p>UDP 是一种<strong>无连接的传输层协议</strong>。<br> “无连接”不是说不能通信，而是通信前<strong>不建立连接、不维护状态</strong>。</p><p>换句话说，UDP 更像是“寄信”：</p><ul><li>写好内容</li><li>塞进信封</li><li>投递出去</li><li>至于对方是否收到、什么时候收到、顺序是否正确 —— 不关心</li></ul><hr><h2 id="二、udp-的核心特征" tabindex="-1">二、UDP 的核心特征 <a class="header-anchor" href="#二、udp-的核心特征" aria-label="Permalink to &quot;二、UDP 的核心特征&quot;">​</a></h2><h3 id="_1-无连接" tabindex="-1">1. 无连接 <a class="header-anchor" href="#_1-无连接" aria-label="Permalink to &quot;1. 无连接&quot;">​</a></h3><p>UDP 不需要三次握手，也没有连接建立和释放过程。<br> 只要知道对方 IP 和端口，就可以直接发送数据。</p><p>这意味着：</p><ul><li>启动快</li><li>延迟低</li><li>协议状态极少</li></ul><hr><h3 id="_2-不保证可靠性" tabindex="-1">2. 不保证可靠性 <a class="header-anchor" href="#_2-不保证可靠性" aria-label="Permalink to &quot;2. 不保证可靠性&quot;">​</a></h3><p>UDP <strong>不保证</strong>：</p><ul><li>数据一定到达</li><li>数据只到达一次</li><li>数据按顺序到达</li></ul><p>协议本身：</p><ul><li>不重传</li><li>不确认（ACK）</li><li>不做流量控制</li><li>不做拥塞控制</li></ul><p>可靠性完全交给<strong>上层应用</strong>处理。</p><hr><h3 id="_3-面向报文" tabindex="-1">3. 面向报文 <a class="header-anchor" href="#_3-面向报文" aria-label="Permalink to &quot;3. 面向报文&quot;">​</a></h3><p>UDP 是**面向报文（message-oriented）**的协议。</p><p>发送端发一个 datagram：</p><ul><li>接收端要么完整收到</li><li>要么直接丢弃</li><li>不存在 TCP 那种“半包 / 粘包”语义</li></ul><p>这点在工程上非常重要。</p><hr><h3 id="_4-协议头部极小" tabindex="-1">4. 协议头部极小 <a class="header-anchor" href="#_4-协议头部极小" aria-label="Permalink to &quot;4. 协议头部极小&quot;">​</a></h3><p>UDP 头部只有 <strong>8 个字节</strong>：</p><table tabindex="0"><thead><tr><th>字段</th><th>长度</th></tr></thead><tbody><tr><td>源端口</td><td>2 字节</td></tr><tr><td>目的端口</td><td>2 字节</td></tr><tr><td>长度</td><td>2 字节</td></tr><tr><td>校验和</td><td>2 字节</td></tr></tbody></table><p>对比 TCP 至少 20 字节起步，UDP 的“轻量”非常明显。</p><hr><h2 id="三、udp-的优势" tabindex="-1">三、UDP 的优势 <a class="header-anchor" href="#三、udp-的优势" aria-label="Permalink to &quot;三、UDP 的优势&quot;">​</a></h2><p>从系统和性能角度看，UDP 的优势集中在三点：</p><ol><li><p><strong>低延迟</strong></p><ul><li>无连接</li><li>无确认</li><li>无重传等待</li></ul></li><li><p><strong>低开销</strong></p><ul><li>协议头小</li><li>状态管理少</li><li>内核负担轻</li></ul></li><li><p><strong>可控性强</strong></p><ul><li>应用层可以自定义： <ul><li>重传策略</li><li>顺序控制</li><li>拥塞控制</li><li>加密与校验</li></ul></li></ul></li></ol><p>这也是很多高性能系统选择 UDP 的原因。</p><hr><h2 id="四、udp-的劣势" tabindex="-1">四、UDP 的劣势 <a class="header-anchor" href="#四、udp-的劣势" aria-label="Permalink to &quot;四、UDP 的劣势&quot;">​</a></h2><p>当然，代价也很明显：</p><ul><li>丢包是常态</li><li>乱序是可能的</li><li>重复包也存在</li><li>网络拥塞时不“自我约束”</li></ul><p>如果上层什么都不做，UDP 就只是“尽力而为”。</p><p>所以 UDP <strong>不适合</strong>：</p><ul><li>文件传输（直接用）</li><li>强一致性数据同步</li><li>对可靠性极端敏感的场景</li></ul><hr><h2 id="五、典型应用场景" tabindex="-1">五、典型应用场景 <a class="header-anchor" href="#五、典型应用场景" aria-label="Permalink to &quot;五、典型应用场景&quot;">​</a></h2><p>UDP 特别适合“<strong>可以容忍少量丢失，但不能接受高延迟</strong>”的场景：</p><ul><li>DNS 查询</li><li>实时音视频（RTP / WebRTC）</li><li>在线游戏</li><li>日志、监控、埋点上报</li><li>内网高性能通信</li><li>自定义传输协议（如 QUIC）</li></ul><p>值得一提的是：<br><strong>QUIC = UDP + 用户态实现的可靠传输</strong>，这本身就是对 UDP 能力的最好背书。</p><hr><h2 id="六、udp-与-tcp-的对比简述" tabindex="-1">六、UDP 与 TCP 的对比简述 <a class="header-anchor" href="#六、udp-与-tcp-的对比简述" aria-label="Permalink to &quot;六、UDP 与 TCP 的对比简述&quot;">​</a></h2><table tabindex="0"><thead><tr><th>对比项</th><th>UDP</th><th>TCP</th></tr></thead><tbody><tr><td>是否连接</td><td>否</td><td>是</td></tr><tr><td>是否可靠</td><td>否</td><td>是</td></tr><tr><td>顺序保证</td><td>否</td><td>是</td></tr><tr><td>拥塞控制</td><td>否</td><td>是</td></tr><tr><td>延迟</td><td>低</td><td>相对较高</td></tr><tr><td>复杂度</td><td>低</td><td>高</td></tr></tbody></table><p>UDP 和 TCP 并不是“谁更高级”，而是<strong>设计目标不同</strong>。</p><hr><h2 id="七、工程实践中的一句话总结" tabindex="-1">七、工程实践中的一句话总结 <a class="header-anchor" href="#七、工程实践中的一句话总结" aria-label="Permalink to &quot;七、工程实践中的一句话总结&quot;">​</a></h2><p>小刘，如果用一句工程化的话来总结 UDP：</p><blockquote><p>UDP 提供的是“传输能力”，而不是“传输保证”。</p></blockquote><p>是否可靠、是否有序、是否安全，<br> 完全取决于你在应用层愿意付出多少设计成本。</p><p>当你追求极致性能、低延迟、强可控性时，<br> UDP 往往是那个值得认真对待的底座协议。</p>',60)])])}const D=l(e,[["render",o]]);export{c as __pageData,D as default};
