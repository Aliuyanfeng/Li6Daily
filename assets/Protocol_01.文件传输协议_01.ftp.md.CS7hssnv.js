import{_ as t,c as p,o as l,aN as o}from"./chunks/framework.DXgs1r1w.js";const u=JSON.parse('{"title":"FTP协议","description":"","frontmatter":{"date":"2024-09-20T10:01:01.000Z","title":"FTP协议","permalink":"/pages/44d720","top":true,"categories":["Protocol","文件传输协议"]},"headers":[],"relativePath":"Protocol/01.文件传输协议/01.ftp.md","filePath":"Protocol/01.文件传输协议/01.ftp.md","lastUpdated":1768471229000}'),a={name:"Protocol/01.文件传输协议/01.ftp.md"};function d(c,e,i,s,r,f){return l(),p("div",null,[...e[0]||(e[0]=[o('<h1 id="ftp协议" tabindex="-1">FTP协议 <a class="header-anchor" href="#ftp协议" aria-label="Permalink to &quot;FTP协议&quot;">​</a></h1><h2 id="liux-ftp-服务-aarch64-架构" tabindex="-1">Liux FTP 服务 aarch64 架构 <a class="header-anchor" href="#liux-ftp-服务-aarch64-架构" aria-label="Permalink to &quot;Liux FTP 服务 aarch64 架构&quot;">​</a></h2><p>vsftpd 部署手册（基于 RPM 安装方式,仅供参考）</p><p>本文档说明如何在 Linux 系统上安装、配置并启动 vsftpd 服务，并创建一个可正常使用的 FTP 用户。</p><p>前置条件：</p><ul><li><p>关闭防火墙<br><code>systemctl stop firewalld</code><br><code>systemctl disable firewalld</code></p></li><li><p>关闭安全模式 <code>vim /etc/selinux/config</code><br> 设置<code>SELINUX=disabled</code></p></li></ul><ol><li>安装 vsftpd 服务</li></ol><p>将下载好的 RPM 包放到服务器，例如 /tmp 目录：</p><p><code>rpm -ivh vsftpd-3.0.3-30.ky10.aarch64.rpm</code></p><p>命令执行成功后，<code>vsftpd</code> 会被安装到系统中。</p><ol start="2"><li>检查服务状态</li></ol><p>安装完成后，vsftpd 默认处于未启动状态，可通过以下命令检查：</p><p><code>systemctl status vsftpd</code></p><p>若显示为 <code>inactive</code> 或 <code>dead</code>，属于正常情况。</p><ol start="3"><li>修改配置文件</li></ol><p>vsftpd 的主配置文件路径为：</p><p><code>/etc/vsftpd/vsftpd.conf</code></p><p>将该文件内容修改为附件中提供的配置内容（根据实际需求覆盖原内容）。</p><p>修改完成后保存退出。</p><ol start="4"><li>启动服务</li></ol><p>编辑配置完成后，启动 vsftpd 服务：</p><p><code>systemctl start vsftpd</code></p><p>再次查看状态确认服务正常运行：</p><p><code>systemctl status vsftpd</code></p><p>若状态为 <code>active (running)</code>，说明启动成功。</p><ol start="5"><li>创建 FTP 用户</li></ol><p>创建一个用于登录 FTP 的系统用户：</p><p><code>adduser ftpuser</code><br><code>passwd ftpuser</code></p><p>设置好密码后，该用户的主目录会自动创建为：</p><p><code>/home/ftpuser</code></p><ol start="6"><li>测试目录准备</li></ol><p>切换到刚创建的用户：</p><p><code>su ftpuser</code></p><p><code>cd /home/ftpuser</code></p><p>在主目录中创建测试用目录或文件：</p><p><code>mkdir -p /home/ftpuser/sample</code><br><code>touch /home/ftpuser/sample/test.txt</code></p><p>该目录用于验证 FTP 读写是否正常。</p><ol start="7"><li>重启服务使配置生效</li></ol><p>所有修改完成后执行：</p><p><code>systemctl restart vsftpd</code><br> 确保配置已重新加载。</p><ol start="8"><li>设置开启自启动</li></ol><p><code>systemctl enable vsftpd</code></p><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="_1-ftp客户端-如-filezilla-显示文件修改时间不正确" tabindex="-1">1. FTP客户端 如（FileZilla）显示文件修改时间不正确 <a class="header-anchor" href="#_1-ftp客户端-如-filezilla-显示文件修改时间不正确" aria-label="Permalink to &quot;1. FTP客户端 如（FileZilla）显示文件修改时间不正确&quot;">​</a></h3><ul><li>原因：FTP协议，本身对时区没有感知，FTP客户端调用命令时返回的是服务器本地时间格式化成字符串，不带时区</li><li>解决： <ul><li><p>启动FileZilla工具。 本文操作以FileZilla工具为例，其他FTP客户端的操作方法类似。 在顶部菜单栏，选择文件(F) &gt; 站点管理器(S)。</p><p>在弹出的站点管理器对话框的选择记录(S)区域，选择文件所属站点。</p><p>单击高级页签，在调整服务器时间，时间差值(A):区域的小时文本框中，输入-8。</p></li><li><p>服务器统一使用设置时区 <code>timedatectl set-timezone Asia/Shanghai</code></p></li></ul></li></ul>',45)])])}const h=t(a,[["render",d]]);export{u as __pageData,h as default};
